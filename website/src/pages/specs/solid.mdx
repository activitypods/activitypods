---
layout: ~/layouts/MdLayout.astro
title: Solid compliance
---

import ProgressBar from '../../components/ProgressBar.astro';

[Solid](https://solidproject.org/) is a web decentralization project led by Sir Tim Berners-Lee, the inventor of the World Wide Web. It aims to give people more control over their own data by allowing them to store it securely in decentralized data stores called Pods. Pods are like personal databases, and you control who can access them and how.

Solid applications use standard, open, and interoperable data formats and protocols to store and access data in Pods. This means that you can use your data with different applications without having to worry about it being locked into one platform.

ActivityPods supports fully the philosophy behind Solid, but it doesn't support (yet) all the standards that have been defined.

### WebID <ProgressBar percentage={100} />

All ActivityPub actors are also WebIDs.

Here is how an ActivityPods WebID looks like:

```json
{
	"@context": "https://activitypods.org/context.json",
	"id": "https://mypod.store/alice",
	"type": ["foaf:Person", "Person"],
	"dc:created": "2023-01-13T11:42:45.636Z",
	"dc:modified": "2023-01-13T11:42:48.389Z",
	"foaf:nick": "alice",
	"preferredUsername": "alice",
	"inbox": "https://mypod.store/alice/inbox",
	"outbox": "https://mypod.store/alice/outbox",
	"followers": "https://mypod.store/alice/followers",
	"following": "https://mypod.store/alice/following",
	"liked": "https://mypod.store/alice/liked",
	"publicKey": {
		"owner": "https://mypod.store/alice",
		"publicKeyPem": "-----BEGIN PUBLIC KEY-----\nMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAzlq6avqA4nwxGDqXMijZ\nixRIllyIDkF4rc9KxUHizysOJEBx9+WSfom0wlS1hPr+Qn90eb8h/8wjbvfXdjYm\npdusaTOrRMFEEMX4lquAPcgLxZKzQNAy8zUw/oBpnrep52Hmx7VfYFfCpAP7OxAL\nsA4mdKq1tx2e0g9so+5WeAa3yiKCvqkE6QJQXgk+WQ998aQg133HOUOqa1JKaU0k\nJK6fVYnJ74L7b6OWQDbehu0SBlAAypOJzkO4WysKOGiUCrrcgol2LmTImzCoTZS3\nPUUV0Rh2iI3v5t07vUfr5o415Em5YFwoPRhq3WH6hmP7wd9ducaFNl9Q/XyYQmPK\nG1F3RQNwtSy6aeAUajw6HTWd+FlFA6oA9LLaVxCoTxlejLB8IrYo3y2PGxPAXNl3\nqodsXWk/I/Jm/nus+RLVGCoJLl+i+zzEF0WG20+rfb0cNPjzuzgWuYY2PTBu78Ib\nizaXLv23fPLmxxUwHQgcCc4RgbmBAwhLWTsGETRLbDSWwBZnkv6PnMVlyrzs47jf\nr+vFYIxdiz8VvJe+sQ7hSrkzVjCluKIXhWT3bPtOkq4fepTnZmGi3qXRCg5cacd8\ni+KLaGtsHIsNyGOGfi55S5ZiSMo7kbeUxfM6xFjfhWuj3jDmMYfYQgBSmP2CNcEU\nTWmx7zJiaO3Me1q3sFG8Ti0CAwEAAQ==\n-----END PUBLIC KEY-----\n"
	},
	"endpoints": {
		"void:sparqlEndpoint": "https://mypod.store/alice/sparql",
		"proxyUrl": "https://mypod.store/alice/proxy"
	},
	"url": "https://mypod.store/alice/data/profiles/63c143b75ea9720d1b484a39"
}
```

### Linked Data Platform <ProgressBar percentage={90} />

Each Solid Pod must comply with the [Linked Data Platform](https://www.w3.org/TR/ldp/) protocol. This is a REST-based API for managing containers and resources.

#### Formats <ProgressBar percentage={90} />

We support both JSON-LD and Turtle format.
However since the Turtle format is never used in our applications, the implementation may be more prone to bugs.

#### Containers <ProgressBar percentage={80} />

We support only the [`BasicContainer`](https://www.w3.org/TR/ldp/#ldpc-container) type.

Should the need for `DirectContainer` and `IndirectContainer` types arise, we could implement them.

#### Binaries <ProgressBar percentage={100} />

We support non-RDF resources (binaries) uploads. The description of the resource is stored in the triplestore as a `http://semapps.org/ns/core#File`.

```turtle
<https://mypod.store/alice/data/files/picture.jpg>
   a <http://semapps.org/ns/core#File> ;
   <http://semapps.org/ns/core#fileName> "picture.jpg" ;
   <http://semapps.org/ns/core#localPath> "uploads/files/picture.jpg" ;
   <http://semapps.org/ns/core#mimeType> "image/jpeg" .
```

#### PATCH method <ProgressBar percentage={100} />

LDP resources and containers can be selectively modified using the HTTP `PATCH` method. This method is important because it limits the risk of overwriting data, as with the simpler `PUT` method.
However, due to the way RDF resources are formatted, the `PATCH` method cannot be used like more regular REST-based APIs.
Many solutions have been proposed in the semantic web community to solve this problem:

- [LD Patch](https://www.w3.org/TR/ldpatch/)
- [SPARQL 1.1 Update](http://www.w3.org/TR/sparql11-http-rdf-update/#http-patch)
- [SparqlPatch](http://www.w3.org/2001/sw/wiki/SparqlPatch)
- [TurtlePatch](http://www.w3.org/2001/sw/wiki/TurtlePatch)
- [RDF Patch](http://afs.github.io/rdf-patch/)

After careful consideration, we opted for the [SparqlPatch](http://www.w3.org/2001/sw/wiki/SparqlPatch) format, which integrates well with triplestore data storage.
Below is an example of a SparqlPatch update to modify a resource. Note that the `application/sparql-update` Content-Type header must be used.

```sparql
PREFIX as: <https://www.w3.org/ns/activitystreams#>
INSERT DATA { <https://mypod.store/alice> as:preferredUsername "Alice" . };
DELETE DATA { <https://mypod.store/alice> as:preferredUsername "ALICE" . };
```

Here is an example of a `PATCH` request to add or remove a resource from a container:

```sparql
PREFIX ldp: <http://www.w3.org/ns/ldp#>
INSERT DATA { <http://url/of/container> ldp:contains <http://url/of/resource/to/attach>. };
DELETE DATA { <http://url/of/container> ldp:contains <http://url/of/resource/to/detach>. };
```

In the future, we could support other kind of patch methods.

#### LDP Prefer header <ProgressBar percentage={0} />

ðŸ‘· To be implemented. ([#1168](https://github.com/assemblee-virtuelle/semapps/issues/1168))

#### LDP paging <ProgressBar percentage={0} />

ðŸ‘· To be implemented. ([#176](https://github.com/assemblee-virtuelle/semapps/issues/176))

### WAC permissions <ProgressBar percentage={100} />

We support the full [WAC specification](https://solid.github.io/web-access-control-spec/)

#### Access Control Policy <ProgressBar percentage={0} />

https://solid.github.io/authorization-panel/acp-specification/

Not supported.

### Solid OIDC <ProgressBar percentage={0} />

Currently, we only support [HTTP signature](./activitypub#http-signature-authentication) for authentication on remote servers. Thanks to the [Proxy endpoint](activitypods.md#proxy-endpoint-with-non-get-methods), it solves all authentication needs we have.

We hope one day to support Solid OIDC so that Solid clients may connect to our Pods.

### Application interoperability <ProgressBar percentage={30} />

[Solid Application Interoperability](https://solid.github.io/data-interoperability-panel/specification) is a complex specification which is not yet finished.
Since we don't use [Solid-OIDC](#solid-oidc), we use ActivityPub for app registration (applications are regular ActivityPub actors).
We have also decided not to use [ShapeTrees](#shapetrees), which add nothing to our architecture: instead, applications only declare the classes they want to manage. For the rest, we chose to implement only the parts of the spec that we needed.

What we implement:

- Applications declare their needs through `AccessNeedGroups` and `AccessNeeds`, which are displayed on an authorization screen.
- Before registration, `AccessGrants` and `DataGrants` are created on the user's Pod.
- The `ApplicationRegistration` resource is created on the user's Pod and sent to the application through a `Create` activity.
- If the `ApplicationRegistration` is correct, it is saved on the application instance, as well as the corresponding grants.
- Whenever the user connects again to the application, we check that the `AccessNeeds` haven't changed. If needed, we show an authorization screen again and `ApplicationRegistration` is updated (with a `Update` activity).
- If the user wants to uninstall the application, we delete the `ApplicationRegistration` (and corresponding grants) and send a `Delete` activity to the application.

What we don't implement yet:

- Authorization flow is handled using ActivityPub. The application is an ActivityPub actor.
- We only handle registration with `Applications`, not with other `SocialAgents` (we continue to use WAC permissions for the latter)
- Pods don't declare an `AuthorizationAgent`. It is handled internally.
- Pods don't declare a `DataRegistry`. This registry is only used to list ShapeTrees. TypeIndex can be used instead.
- Applications don't declare `AccessDescription` for the time being (we can deduce the accesses requested, and later it may be used to justify access to certain resources).
- Pods only create `AccessGrants` and `DataGrants`, not `AccessAuthorizations` and `DataAuthorizations`. Grants can be shared with the registered application, while Authorizations cannot. The only difference between them is a `grantedWith` predicate in `AccessAuthorizations` that indicates which app was used to manage authorizations (but we manage that internally anyway).
- Pods don't declare `RegistrySet`, `ApplicationRegistry`, `AuthorizationRegistry` as they are not visible from the outside. We just read `ApplicationRegistrations`, `AccessGrants` and `DataGrants` in their dedicated containers.

#### ShapeTrees <ProgressBar percentage={0} />

[ShapeTrees](https://shapetrees.org) are the Solid community's answer to helping applications find data potentially scattered across numerous LDP containers.

Simply put, applications declare the structure they intend to use to store their data. This operation is called "planting a ShapeTree". Other applications wishing to use the same type of data then know where to find it.

Unfortunately, this standard is a complex one, and poses new problems, as highlighted in [this article](https://ruben.verborgh.org/blog/2022/12/30/lets-talk-about-pods/), particularly with regard to permissions management. As is written in [this other document](https://github.com/solid/data-interoperability-panel/blob/main/problems-and-goals.md#problem-4---people-shouldnt-need-to-think-about-how-to-physically-organize-their-data-to-use-solid), _"[Users] shouldnâ€™t need to worry about where a particular type of data needs to be stored, nor should they have to hunt around to find the data they want."_.

For ActivityPods, we prefer to consider the Pod as a data graph, and focus on the relationship between resources (as brilliantly defined in semantic web standards) rather than where they are stored.

#### Type Indexes <ProgressBar percentage={0} />

ðŸ‘· To be implemented ([#1171](https://github.com/assemblee-virtuelle/semapps/issues/1171))

See https://github.com/solid/type-indexes

### Notifications <ProgressBar percentage={0} />

ðŸ‘· To be implemented

See https://solid.github.io/notifications/protocol and https://solid.github.io/notifications/websocket-channel-2023
